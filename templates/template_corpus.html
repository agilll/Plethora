<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Corpus builder</title>

	<!-- Bootstrap CSS CDN: Bootstrap decoration -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<!-- Our Custom CSS -->
	<link rel="stylesheet" href="css/style.css">

	<style>
	.loader {
		border: 16px solid #f3f3f3; /* Light grey */
		border-top: 16px solid #3498db; /* Blue */
		border-radius: 50%;
		width: 120px;
		height: 120px;
		animation: spin 2s linear infinite;
	}

	@keyframes spin {
		0% { transform: rotate(0deg); }
		100% { transform: rotate(360deg); }
	}

	.modal-dialog {
		top: 40%;
	}
	
	.centered {
		display: block;
		margin-left: auto;
		margin-right: auto;
	}
	</style>
	
	<script>
		var debug = "{{ parDebug }}";
		
		function setDebug () {
			if (debug == "True") {
				GET_WIKICATS_LABEL = $(submitF0_getGetWikicats).attr("value") + " (/doPh1getWikicatsFromText)";
				$(submitF0_getGetWikicats).attr("value", GET_WIKICATS_LABEL);
				FIND_URLS_LABEL = $(submitF1_findURLs).attr("value") + " (/doPh2getUrlsCandidateFiles)"
				$(submitF1_findURLs).attr("value", FIND_URLS_LABEL);
				DOWNLOAD_URLS_LABEL = $(submitF2_DownloadURLs).attr("value") + " (/doPh3downloadCandidateTexts)"
				$(submitF2_DownloadURLs).attr("value", DOWNLOAD_URLS_LABEL);
				IDENTIFY_WIKICATS_LABEL = $(submitF3_identifyWikicats).attr("value") + " (/doPh4identifyWikicats)"
				$(submitF3_identifyWikicats).attr("value", IDENTIFY_WIKICATS_LABEL);
				COMPUTE_SIMS_LABEL = $(submitF4_computeSimilarities).attr("value") + " (/doPh5computeSimilarities)"
				$(submitF4_computeSimilarities).attr("value", COMPUTE_SIMS_LABEL);
				TRAIN_D2V_LABEL = $(submitF5_trainD2V).attr("value") + " (/doPh6trainD2V)"
				$(submitF5_trainD2V).attr("value", TRAIN_D2V_LABEL);
			}
		}
	</script>
</head>



<body style="margin: 10px;" >
	
	<div> 
		<!-- spinner to animate waiting times  -->
		<div id="spinner" class="modal fade">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-body">
				<center><div class="loader"></div></center>
			  </div>
			</div>
		  </div>
		</div>
	
		<!-- Starting of the interface HTML page  -->
		
		<h1 style="color:  #0066cc"> Corpus Builder Tool </h1> <!-- Tool main title -->
		
		<h3 style="color: #0066cc" id="legendF0_OriginText" >0. Provide Origin Text</h3>
	
		<!--  Central content if Tools->Build Corpus is selected -->
		<div id="buildCorpusDiv">
	
			<div class="form-group" style="margin-bottom: 0px">
				<!--  the textarea will be filled with a template parameter just after loading the page  -->
				<textarea id="contentF0_corpusText"  style="border: 2px solid #888; width:1000px; height:300px;"></textarea> 
			</div>
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF0_getGetWikicats" type="button" value="Next Ph1: Get Wikicats"></input>
			</div>
	
	
	
			<h3 style="color: #0066cc" id='legendF1_selectWikicats'>
				<hr style="border-top: 1px solid red;">
				1. Select relevant Wikicats from origin text &nbsp;&nbsp;
				<input style="background-color: #0066cc; color: white" type="button" id="clearAllWikicats" value="Clear All"> &nbsp;&nbsp;
				<input style="background-color: #0066cc; color: white" type="button" id="selectAllWikicats" value="Select All">
			</h3>
			
			<div id='contentF1_showWikicats'></div>  <!-- empty div to later show wikicats identified in text -->
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF1_findURLs" type="button" value="Next Ph2: Find candidate URLs"></input>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span id="spanFromStartF1">  <input id="fromStartF1" name="fromStartF1" type="checkbox"></input>
				From start (Selected=this phase and previous, Non selected=only this phase)</span>
			</div>
			

						
			<h3 style="color: #0066cc" id='legendF2_numberURLsDiscovered'>
				<hr style="border-top: 1px solid red;">
				2. Number of candidate URLs gathered from selected Wikicats
			</h3>
			
			<div id='contentF2_showNumberUrls'></div> <!-- empty div to later show number of candidate URLs discovered for each wikicat -->
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF2_DownloadURLs" type="button" value="Next Ph3: Download and clean candidate URLs"></input>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span id="spanFromStartF2">  <input id="fromStartF2" name="fromStartF2" type="checkbox"></input>
				From start (Selected=this phase and previous, Non selected=only this phase)</span>
			</div>



			<h3 style="color: #0066cc" id='legendF3_numberTextsDownloaded'>
				<hr style="border-top: 1px solid red;">
				3. Number of candidate texts downloaded and cleaned
			</h3>
			
			<div id='contentF3_numberTextsDownloaded'></div> <!-- empty div to later show the number of candidate texts downloaded -->
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF3_identifyWikicats" type="button" value="Next Ph4: Identify wikicats in candidate texts"></input>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span id="spanFromStartF3">  <input id="fromStartF3" name="fromStartF3" type="checkbox"></input>
				From start (Selected=this phase and previous, Non selected=only this phase)</span>
			</div>
			
			
			
			<h3 style="color: #0066cc" id='legendF4_numberTextsValid'>
				<hr style="border-top: 1px solid red;">
				4. Number of candidate texts valid (with wikicats)
			</h3>
			
			<div id='contentF4_numberTextsValid'></div> <!-- empty div to later show the number of candidate texts with wikicats -->
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF4_computeSimilarities" type="button" value="Next Ph5: Compute Similarities for candidate texts"></input>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span id="spanFromStartF4">  <input id="fromStartF4" name="fromStartF4" type="checkbox"></input>
				From start (Selected=this phase and previous, Non selected=only this phase)</span>
			</div>
			
			
			
			<h3 style="color: #0066cc" id='legendF5_similarities'>
				<hr style="border-top: 1px solid red;">
				5. Similiarities
			</h3>
			
			<div id='contentF5_similarities'></div> <!-- empty div to later show the result -->
			<p style="margin-bottom:5mm;"></p>
			<div class="form-group" style="margin-bottom: 0px">
				<input style="background-color: #0066cc; color: white" id="submitF5_trainD2V" type="button" value="Next Ph6: train D2V model with corpus"></input>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span id="spanFromStartF5">  <input id="fromStartF5" name="fromStartF5" type="checkbox"></input>
				From start (Selected=this phase and previous, Non selected=only this phase)</span>
			</div>
			
			
			
			<h3 style="color: #0066cc" id='legendF6_D2V'>
				<hr style="border-top: 1px solid red;">
				6. Doc2Vec network training
			</h3>
		
			<div id='contentF6_D2V'></div> <!-- empty div to later show the result -->
			<p style="margin-bottom:5mm;"></p>
		</div>
				
	
		<!-- HTML page is finished , dynamic behabiour caused by JavaScript starts-->
	
		<!-- jQuery CDN -->
		<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
		<!-- Bootstrap Js CDN: is used to manage the menu collapse and the central menu tabs -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		<!--  not clear what they are used to -->
		<script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>
		<script type="text/javascript" src="http://backbonejs.org/backbone-min.js"></script>
		<script type="text/javascript" src="http://warfares.github.io/pretty-json/pretty-json-min.js"></script>
	
		<script type="text/javascript">
	
			// Here it starts what is executed when finishing to load the page  
			
			selectedWikicats = [];
			listWithoutDuplicates = [];
			listEnoughContent = [];
			listWithWKSB = [];
			listDocsCorpus = [];
			
			$(document).ready(function () {
				
				setDebug();
	
				$("#spinner").modal({show: false, backdrop: 'static'});
	
				$(contentF0_corpusText).val({{ parDefaultText | tojson }});   <!-- fill textarea with origin text -->
				
				
				function buildF1contents (result) {
					wikicatList = result["wikicats"]   // this is the list of wikicats in text
					selWikicats =  result["selectedWikicats"]

					results = "<b>"+wikicatList.length+" wikicats</b> (click on anyone to see its wikicat components)<br>\n"
					results += "<table>"
					fila=0
					wikicatList.forEach(function(w){
						if (fila++ % 3 == 0 ) 
							results += "<tr><td style='padding-left:20px'>";
						else 
							results += "<td style='padding-left:20px'>";
						
						results += "<input type='checkbox' name='checkboxWikicatList' value='"+w+"'";
						
						if (selWikicats.includes(w))
							results += "checked>";
						else
							results += ">";
							
						wr = result[w]
						results += " <span onclick='alert(\""+wr["components"]+"\")'>"+w+"</span>";
					});
					results += "</table>"
					
					return results
				}
				
				
				// click to request server to get the wikicats of the original text 
				// Flask "/doPh1getWikicatsFromText" is requested
				// receives a wikicat list to present on the interface
				$(submitF0_getGetWikicats).click(function() {
					$("#spinner").modal("show");
					originalText =  $(contentF0_corpusText).val()
					$.ajax({
						type: "POST",
						url: "/doPh1getWikicatsFromText",
						data: {"originalText": originalText},  // send the text with 'text' key
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 1: wikicats of text")
							console.log(result)
								
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF1_showWikicats).html(results)
							}
							else {
								selectedWikicats =  result["selectedWikicats"]
								
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
							
								/*	
								wl1 = ["5th-centuryBCGreekPeople", "AncientPeople", "GreekPeople", "5th-centuryBCRulers", "PeopleOfTheGreco-PersianWars", "RulersOfSparta", "Kings"]
								wl2 = ["BattlesInvolvingAncientGreece", "BattlesInvolvingGreece", "Greco-PersianWars", "BattlesInvolvingTheAchaemenidEmpire", "BattlesOfTheGreco-PersianWars", "BattlesInvolvingSparta"]
								wl3 = ["AncientGreekCities", "AncientCities", "ArchaeologicalSitesInGreece", "PopulatedPlacesInLaconia", "MunicipalitiesOfPeloponnese(Region)", "Persian-speakingCountriesAndTerritories" ]
							
								results = "<b>People:</b> <table>"
								fila=0
								wl1.forEach(function(w){
									if (fila++ % 3 == 0 ) {results += "<tr><td>"}
									else {results += "<td>"}
									results += "<input type='checkbox' name='checkboxWikicatList' value='"+w+"' checked> "+w+"&nbsp;&nbsp;";
								});
								results += "</table><p/>"
								results += "<b>Events:</b> <table>"
								fila=0
								wl2.forEach(function(w){
									if (fila++ % 3 == 0 ) {results += "<tr><td>"}
									else {results += "<td>"}
									results += "<input type='checkbox' name='checkboxWikicatList' value='"+w+"' checked> "+w+"&nbsp;&nbsp;";
								});
								results += "</table><p/>"
								results += "<b>Locations:</b> <table>"
								fila=0
								wl3.forEach(function(w){
									if (fila++ % 3 == 0 ) {results += "<tr><td>"}
									else {results += "<td>"}
									results += "<input type='checkbox' name='checkboxWikicatList' value='"+w+"' checked> "+w+"&nbsp;&nbsp;";
								});
								results += "</table>"
								$("#submit_buildCorpus").show()
								*/
							}
						}
					});
				});
				
				
				// to clear selected wikicats if click radibutton option
				$(clearAllWikicats).click(function() {
					$.each($("input[name='checkboxWikicatList']"), function(){            
						$(this).prop('checked', false);
					});
				});
				
				// to select all wikicats if click radibutton option
				$(selectAllWikicats).click(function() {
					$.each($("input[name='checkboxWikicatList']"), function(){            
						$(this).prop('checked', true);
					});
				});
				
				
				
				
				
				function buildF2contents (result) {
					selWikicats = result["selectedWikicats"]
						
					// present the summary of results
					results = "<b>"+selWikicats.length+" wikicats</b><br>\n"
					results += "<table style='border: 1px solid'>"
					fila=0
					results += "<th style='text-align: center; border: 1px solid'> Wikicat <th style='text-align: center; border: 1px solid'> Wikicat"
					selWikicats.forEach(function(w){
						if (fila++ % 2 == 0 ) {
							results += "<tr style='border: 1px solid'><td style='padding-right:10px; padding-left:10px; border: 1px solid'>"
						}
						else {
							results += "<td style='padding-right:10px; padding-left:10px; border: 1px solid'>"
						}
						wr = result[w]
						results += w+" ("+wr["db"]+" from <span style='color: blue; font-weight: bold; text-decoration: underline;' name='"+w+"'  class='wiki wikicat'>DBpedia</span>, "
						results += wr["wk"]+" from <span style='color: blue; font-weight: bold; text-decoration: underline;' name='"+w+"'  class='wiki wikidata'>Wikidata</span>)";
					});
					results += "</table><p>"
					results += "<p style='color: black'>Identified "+result['totalDB']+" URLs from DBpedia and "+result['totalWK']+" from Wikidata. Distinct URLs: "+result['totalUrls']		
					
					return results
				}
				
				
				// click to request server to find URLs from selected wikicats
				// Flask "/doPh2getURLsCandidateFiles" is requested
				// receives number of DB and WK URLs for each wikicat
				$(submitF1_findURLs).click(function(event) {
					originalText =  $(contentF0_corpusText).val()
					var fromStart = $("input[name='fromStartF1']:checked").val() == "on" ? true : false;

					$("#spinner").modal("show");
					selectedWikicats = [];
					$.each($("input[name='checkboxWikicatList']:checked"), function(){            
						selectedWikicats.push($(this).val());
					});
					
					$.ajax({
						type: "POST",
						url: "doPh2getUrlsCandidateFiles", 
						data: {"originalText": originalText, "fromStart": fromStart, "selectedWikicats":  JSON.stringify(selectedWikicats)},  // send the selected wikicats and the context text
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 2: number of URLs found for each wikicat")
							console.log(result)
									
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF2_showNumberUrls).html(results)
								return
							}
							
							selectedWikicats = result["selectedWikicats"]
							listWithoutDuplicates = result["listWithoutDuplicates"]   // list of unique URLs 
							console.log("List of pages without duplicates")
							console.log(listWithoutDuplicates)
							
							results = buildF2contents(result)
							$(contentF2_showNumberUrls).html(results)
							if (fromStart) {
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
							}
						}
					});
				});
							
				
				// click to request server to get the urls corresponding to one wikicat
				// Flask "/getWikicatUrls" is requested
				// receives the url list requested
				$(contentF2_showNumberUrls).on('click', '.wiki', function() {
					wikicat = $(this).attr("name")
					$("#spinner").modal("show");
					var w1 = window.open();
					if ($(this).hasClass("wikicat")) {
						DB= true
					}
					else {
						DB=false
					}
					$.ajax({
						type: "GET",
						url: "/getWikicatUrls",
						data: {"wikicat":  wikicat, "DB": DB},
						success: function(result) {
							$("#spinner").modal("hide");
							
							if (result.hasOwnProperty("error")) {
								results = "error in query"
								return
							}

							values = result["urls"]
	
							results = values.length+"<br>\n"
							values.forEach(function(u){
								results += "<a href='"+u+"'>"+u+"</a><br>";
							});
							
							if (w1 == null) alert("error opening window [w1]")
							else {
								w1.document.open();
								w1.document.write(results);
								w1.document.close();
							}
						}
					});
				});
				
				
				
				function buildF3contents (result) {
					results = "<b>"+result['nowDownloaded']  + " new files have been downloaded in this iteration</b><br>\n"
					results += "<b>"+result['lenListEnoughContent']  + " files with enough content are available</b><br>\n"
					results += "<b>"+result['lenListNotEnoughContent']  + " files without enough content have been discarded</b><br>\n"
					results += "<b>Duration of F3: " + result['elapsedTimeF3']  + " seconds</b><br>\n"
					
					return results
				}
				
				
				// click to request server to download candidate files
				// Flask "/doPh3downloadCandidateTexts" is requested
				// receives number of files with enough content
				$(submitF2_DownloadURLs).click(function(event) {
					originalText =  $(contentF0_corpusText).val()
					var fromStart = $("input[name='fromStartF2']:checked").val() == "on" ? true : false;
					$("#spinner").modal("show");
					$.ajax({
						type: "POST",
						url: "doPh3downloadCandidateTexts",
						data: {"originalText": originalText, "fromStart": fromStart, "selectedWikicats": JSON.stringify(selectedWikicats), "listWithoutDuplicates": JSON.stringify(listWithoutDuplicates)},  // send the listWithoutDuplicates received in the previous phase
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 3:")
							console.log(result)
							
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF3_numberTextsDownloaded).html(results)
								return
							}
							
							selectedWikicats = result["selectedWikicats"]
							listEnoughContent = result["listEnoughContent"]   // list of texts available with enough content
							console.log("List of pages with enough content")
							console.log(listEnoughContent)
													
							results = buildF3contents(result)
							$(contentF3_numberTextsDownloaded).html(results)
							
							if (fromStart) {
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
								
								results = buildF2contents(result)
								$(contentF2_showNumberUrls).html(results)
							}
						}
					});
				});
				
				
				
				function buildF4contents (result) {
					results = "<b>"+result['nowProcessed']  + " new files have been processed in this iteration</b><br>\n"
					results += "<b>"+result['lenListWithWKSB']  + " files with wikicats or subjects are available</b><br>\n"
					results += "<b>"+result['lenListWithoutWKSB']  + " files without wikicats nor subjects have been discarded</b><br>\n"
					results += "<b>Duration of F4: " + result['elapsedTimeF4']  + " seconds</b><br>\n"
					
					return results
				}
				
				
				// click to request server to identify wikicats in candidate files
				// Flask "/doPh4identifyWikicats" is requested
				// receives number of files with wikicats 
				$(submitF3_identifyWikicats).click(function(event) {
					originalText =  $(contentF0_corpusText).val()
					var fromStart = $("input[name='fromStartF3']:checked").val() == "on" ? true : false;
					$("#spinner").modal("show");
					$.ajax({
						type: "POST",
						url: "doPh4identifyWikicats",
						data: {"originalText": originalText, "fromStart": fromStart, "selectedWikicats": JSON.stringify(selectedWikicats), "listEnoughContent": JSON.stringify(listEnoughContent)},  // send the listEnoughContent received in the previous phase
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 4:")
							console.log(result)
							
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF4_numberTextsValid).html(results)
								return
							}
							
							selectedWikicats = result["selectedWikicats"]
							listWithWKSB = result["listWithWKSB"]   // list of texts available with wikicats or subjects
							console.log("List of pages with wikicats or subjects")
							console.log(listWithWKSB)
																				
							results = buildF4contents(result)
							$(contentF4_numberTextsValid).html(results)

							if (fromStart) {
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
								
								results = buildF2contents(result)
								$(contentF2_showNumberUrls).html(results)
								
								results = buildF3contents(result)
								$(contentF3_numberTextsDownloaded).html(results)
							}
							
						}
					});
				});
			
			
			
				function buildF5contents (result) {
					results = "<b>Duration of F5: " + result['elapsedTimeF5']  + " seconds</b><br>\n"
					results += "<b>Number of files: " + result['lenListDocsCorpus'] + " </b><br>\n"
					
					return results
				}
			
				// click to request server to compute similarities for candidate files
				// Flask "/doPh5computeSimilarities" is requested
				// receives result 
				$(submitF4_computeSimilarities).click(function(event) {
					originalText =  $(contentF0_corpusText).val()
					var fromStart = $("input[name='fromStartF4']:checked").val() == "on" ? true : false;
					$("#spinner").modal("show");

					$.ajax({
						type: "POST",
						url: "doPh5computeSimilarities",
						data: {"originalText": originalText, "fromStart": fromStart, "selectedWikicats":  JSON.stringify(selectedWikicats), "listWithWKSB": JSON.stringify(listWithWKSB)},  // send the listWithWKSB received in the previous phase
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 5")
							console.log(result)
							
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF5_similarities).html(results)
								return
							}

							listDocsCorpus = result["listDocsCorpus"]  
															
							results = buildF5contents(result)
							$(contentF5_similarities).html(results)

							if (fromStart) {
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
								
								results = buildF2contents(result)
								$(contentF2_showNumberUrls).html(results)
								
								results = buildF3contents(result)
								$(contentF3_numberTextsDownloaded).html(results)
								
								results = buildF4contents(result)
								$(contentF4_numberTextsValid).html(results)
							}					
						}
					});
				});
			
	

				function buildF6contents (result) {
					results = "<b>Duration of F61 (preprocessing): " + result['elapsedTimeF61']  + " seconds</b><br>\n"
					results += "<b>Duration of F62 (training): " + result['elapsedTimeF62']  + " seconds</b><br>\n"
					
					return results
				}
	
				// click to request server to train the Doc2Vec network
				// Flask "/doPh6trainD2V" is requested
				// receives result 
				$(submitF5_trainD2V).click(function(event) {
					originalText =  $(contentF0_corpusText).val()
					var fromStart = $("input[name='fromStartF5']:checked").val() == "on" ? true : false;
					$("#spinner").modal("show");

					$.ajax({
						type: "POST",
						url: "doPh6trainD2V",
						data: {"originalText": originalText, "fromStart": fromStart, "listDocsCorpus": JSON.stringify(listDocsCorpus)},  // send the listDocsCorpus received in the previous phase
						success: function(result) {
							$("#spinner").modal("hide");
							console.log("Result of phase 6")
							console.log(result)
							
							if (result.hasOwnProperty("error")) {
								alert("error received!")
								results = "<b style='color: red'>"+result["error"]+"</b>"
								$(contentF6_D2V).html(results)
								return
							}
														
							results = buildF6contents(result)
							$(contentF6_D2V).html(results)

							if (fromStart) {
								results = buildF1contents(result)
								$(contentF1_showWikicats).html(results)
								
								results = buildF2contents(result)
								$(contentF2_showNumberUrls).html(results)
								
								results = buildF3contents(result)
								$(contentF3_numberTextsDownloaded).html(results)
								
								results = buildF4contents(result)
								$(contentF4_numberTextsValid).html(results)
								
								results = buildF5contents(result)
								$(contentF5_similarities).html(results)
							}	
						}
					});
				});
	
			});
	
		</script>
	</div>
</body>
</html>
